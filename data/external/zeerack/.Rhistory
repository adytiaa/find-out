user.id_str,
id_str,
text,
in_reply_to_status_id,
in_reply_to_user_id_str,
place.country,
place.country_code,
lang,
retweet_count,
retweeted_status.id,
favorite_count,
retweeted_status.favorite_count) %>%
glimpse()
amateur_expert
amateur_expert %>% as_tibble()
amateur_expert %>%
as_tibble() %>%
select(Annotation,
created_at,
user.id_str,
id_str,
text,
in_reply_to_status_id,
in_reply_to_user_id_str,
place.country,
place.country_code,
lang,
retweet_count,
retweeted_status.id,
favorite_count,
retweeted_status.favorite_count) %>%
glimpse()
amateur_expert %>%
as_tibble() %>%
select(Annotation,
created_at,
user_id = "user.id_str",
status_id = "id_str",
text,
reply_to_status_id = "in_reply_to_status_id",
reply_to_user_id = "in_reply_to_user_id_str",
country = "place.country",
country_code = "place.country_code",
lang,
retweet_count,
retweet_status_id = "retweeted_status.id",
favorite_count,
retweet_favorite_count = "retweeted_status.favorite_count") %>%
glimpse()
# amateur_expert -------------------
# Make tibble then select and rename columns to match AWS scripts
amateur_expert <- amateur_expert %>%
as_tibble() %>%
select(annotation = "Annotation",
created_at,
user_id = "user.id_str",
status_id = "id_str",
text,
reply_to_status_id = "in_reply_to_status_id",
reply_to_user_id = "in_reply_to_user_id_str",
country = "place.country",
country_code = "place.country_code",
lang,
retweet_count,
retweet_status_id = "retweeted_status.id",
favorite_count,
retweet_favorite_count = "retweeted_status.favorite_count")
amateur_expert
unique(amateur_expert$annotation)
# Drop racism annotations and convert "both" to "sexism"
amateur_expert <- amateur_expert %>%
filter(annotation == "Both"   |
annotation == "Sexism" |
annotation == "Neither") %>%
mutate(annotation = replace(annotation,
annotation == "Both",
"Sexism"))
amateur_expert
amateur_expert %>% group_by(annotation) %>% count()
neither
neither %>%
as_tibble() %>%
glimpse()
neither %>%
as_tibble() %>%
group_by(Annotation) %>%
count()
names <-  c (Annotation,
created_at,
user.id_str,
id_str,
text,
in_reply_to_status_id,
in_reply_to_user_id_str,
place.country,
place.country_code,
lang,
retweet_count,
retweeted_status.id,
favorite_count,
retweeted_status.favorite_count)
names <-  c ("Annotation",
"created_at",
"user.id_str",
"id_str",
"text",
"in_reply_to_status_id",
"in_reply_to_user_id_str",
"place.country",
"place.country_code",
"lang",
"retweet_count",
"retweeted_status.id",
"favorite_count",
"retweeted_status.favorite_count")
names
names %in% colnames(neither)
names %in% colnames(sexism)
# Make tibble then select and rename columns to match AWS scripts
neither %>%
as_tibble() %>%
select(annotation = "Annotation",
created_at,
user_id = "user.id_str",
status_id = "id_str",
text,
reply_to_status_id = "in_reply_to_status_id",
reply_to_user_id = "in_reply_to_user_id_str",
country = "place.country",
country_code = "place.country_code",
lang,
retweet_count,
retweet_status_id = "retweeted_status.id",
favorite_count,
retweet_favorite_count = "retweeted_status.favorite_count")
neither
glimpse(neither)
# Make tibble then select and rename columns to match AWS scripts
neither %>%
as_tibble() %>%
select(annotation = "Annotation",
created_at,
user_id = "user.id_str",
status_id = "id_str",
text,
reply_to_status_id = "in_reply_to_status_id",
reply_to_user_id = "in_reply_to_user_id_str",
country = "place.country",
country_code = "place.country_code",
lang,
retweet_count,
retweet_status_id = "retweeted_status.id",
favorite_count,
retweet_favorite_count = "retweeted_status.favorite_count")
neither
neither
niether
neither
glimpse(neither)
# Make tibble then select and rename columns to match AWS scripts
neither <- neither %>%
as_tibble() %>%
select(annotation = "Annotation",
created_at,
user_id = "user.id_str",
status_id = "id_str",
text,
reply_to_status_id = "in_reply_to_status_id",
reply_to_user_id = "in_reply_to_user_id_str",
country = "place.country",
country_code = "place.country_code",
lang,
retweet_count,
retweet_status_id = "retweeted_status.id",
favorite_count,
retweet_favorite_count = "retweeted_status.favorite_count")
neither
colnames(neither) == colnames(amateur_expert)
mean(colnames(neither) == colnames(amateur_expert))
unique(neither$annotation)
sexism
sexism %>%
as_tibble()
sexism %>%
as_tibble() %>%
select(annotation = "Annotation",
created_at,
user_id = "user.id_str",
status_id = "id_str",
text,
reply_to_status_id = "in_reply_to_status_id",
reply_to_user_id = "in_reply_to_user_id_str",
country = "place.country",
country_code = "place.country_code",
lang,
retweet_count,
retweet_status_id = "retweeted_status.id",
favorite_count,
retweet_favorite_count = "retweeted_status.favorite_count")
sexism %>%
as_tibble() %>%
select(annotation = "Annotation",
created_at,
user_id = "user.id_str",
status_id = "id_str",
text,
reply_to_status_id = "in_reply_to_status_id",
reply_to_user_id = "in_reply_to_user_id_str",
country = "place.country",
country_code = "place.country_code",
lang,
retweet_count,
retweet_status_id = "retweeted_status.id",
favorite_count,
retweet_favorite_count = "retweeted_status.favorite_count") %>%
group_by(annotation) %>%
count()
sexism <- sexism %>%
as_tibble() %>%
select(annotation = "Annotation",
created_at,
user_id = "user.id_str",
status_id = "id_str",
text,
reply_to_status_id = "in_reply_to_status_id",
reply_to_user_id = "in_reply_to_user_id_str",
country = "place.country",
country_code = "place.country_code",
lang,
retweet_count,
retweet_status_id = "retweeted_status.id",
favorite_count,
retweet_favorite_count = "retweeted_status.favorite_count")
sexism
colnames(sexism)
colnames(sexism)== colnames(amateur_expert)
mean(colnames(sexism)== colnames(amateur_expert))
mean(colnames(sexism)== colnames(neither))
# Combine data
bind_rows(amateur_expert, neither, sexism)
# Combine data
bind_rows(amateur_expert, neither, sexism) %>%
distinct(text)
# Combine data
bind_rows(amateur_expert, neither, sexism) %>%
distinct(status_id)
# Combine data
bind_rows(amateur_expert, neither, sexism) %>%
distinct()
# Combine data
bind_rows(amateur_expert, neither, sexism) %>%
group_by(annotation)
bind_rows(amateur_expert, neither, sexism)
# Combine data
bind_rows(amateur_expert, neither, sexism) %>%
group_by(annotation) %>%
count()
# Combine data
bind_rows(amateur_expert, neither, sexism) %>%
mutate(annotation = replace(annotation, annotation == "Neither", "not_misogynistic")) %>%
mutate(annotation = replace(annotation, annotation == "none", "not_misogynistic")) %>%
mutate(annotation = replace(annotation, annotation == "sexism", "misogynistic")) %>%
mutate(annotation = replace(annotation, annotation == "Sexism", "misogynistic")) %>%
group_by(annotation) %>%
count()
5850 + 11501 + 3430 +961
17351 + 4391
# Combine data
bind_rows(amateur_expert, neither, sexism) %>%
mutate(annotation = replace(annotation, annotation == "Neither", "not_misogynistic")) %>%
mutate(annotation = replace(annotation, annotation == "none", "not_misogynistic")) %>%
mutate(annotation = replace(annotation, annotation == "sexism", "misogynistic")) %>%
mutate(annotation = replace(annotation, annotation == "Sexism", "misogynistic")) %>%
distinct(status_id) %>%
group_by(annotation) %>%
count()
bind_rows(amateur_expert, neither, sexism) %>%
mutate(annotation = replace(annotation, annotation == "Neither", "not_misogynistic")) %>%
mutate(annotation = replace(annotation, annotation == "none", "not_misogynistic")) %>%
mutate(annotation = replace(annotation, annotation == "sexism", "misogynistic")) %>%
mutate(annotation = replace(annotation, annotation == "Sexism", "misogynistic")) %>%
distinct(status_id) %>%
group_by(annotation) %>%
count()
# Combine data
bind_rows(amateur_expert, neither, sexism) %>%
mutate(annotation = replace(annotation, annotation == "Neither", "not_misogynistic")) %>%
mutate(annotation = replace(annotation, annotation == "none", "not_misogynistic")) %>%
mutate(annotation = replace(annotation, annotation == "sexism", "misogynistic")) %>%
mutate(annotation = replace(annotation, annotation == "Sexism", "misogynistic")) %>%
distinct(status_id)
# Combine data
bind_rows(amateur_expert, neither, sexism) %>%
mutate(annotation = replace(annotation, annotation == "Neither", "not_misogynistic")) %>%
mutate(annotation = replace(annotation, annotation == "none", "not_misogynistic")) %>%
mutate(annotation = replace(annotation, annotation == "sexism", "misogynistic")) %>%
mutate(annotation = replace(annotation, annotation == "Sexism", "misogynistic")) %>%
distinct(status_id, .keep_all = TRUE) %>%
group_by(annotation) %>%
count()
mutate(annotation = replace(annotation, annotation == "Neither", "not_misogynistic")) %>%
mutate(annotation = replace(annotation, annotation == "none", "not_misogynistic")) %>%
mutate(annotation = replace(annotation, annotation == "sexism", "misogyn
# Combine data
bind_rows(amateur_expert, neither, sexism) %>%
mutate(annotation = replace(annotation, annotation == "Neither", "not_misogynistic")) %>%
mutate(annotation = replace(annotation, annotation == "none", "not_misogynistic")) %>%
mutate(annotation = replace(annotation, annotation == "sexism", "misogynistic")) %>%
mutate(annotation = replace(annotation, annotation == "Sexism", "misogynistic"))
# Combine data
bind_rows(amateur_expert, neither, sexism) %>%
mutate(annotation = replace(annotation, annotation == "Neither", "not_misogynistic")) %>%
mutate(annotation = replace(annotation, annotation == "none", "not_misogynistic")) %>%
mutate(annotation = replace(annotation, annotation == "sexism", "misogynistic")) %>%
mutate(annotation = replace(annotation, annotation == "Sexism", "misogynistic"))
# Combine data
bind_rows(amateur_expert, neither, sexism) %>%
mutate(annotation = replace(annotation, annotation == "Neither", "not_misogynistic")) %>%
mutate(annotation = replace(annotation, annotation == "none", "not_misogynistic")) %>%
mutate(annotation = replace(annotation, annotation == "sexism", "misogynistic")) %>%
mutate(annotation = replace(annotation, annotation == "Sexism", "misogynistic")) %>%
arrange(annotation)
# Combine data
bind_rows(amateur_expert, neither, sexism) %>%
mutate(annotation = replace(annotation, annotation == "Neither", "not_misogynistic")) %>%
mutate(annotation = replace(annotation, annotation == "none", "not_misogynistic")) %>%
mutate(annotation = replace(annotation, annotation == "sexism", "misogynistic")) %>%
mutate(annotation = replace(annotation, annotation == "Sexism", "misogynistic")) %>%
arrange(desc(annotation))
# Combine data
bind_rows(amateur_expert, neither, sexism) %>%
mutate(annotation = replace(annotation, annotation == "Neither", "not_misogynistic")) %>%
mutate(annotation = replace(annotation, annotation == "none", "not_misogynistic")) %>%
mutate(annotation = replace(annotation, annotation == "sexism", "misogynistic")) %>%
mutate(annotation = replace(annotation, annotation == "Sexism", "misogynistic")) %>%
arrange(desc(annotation)) %>%
distinct(status_id, .keep_all = TRUE) %>%
group_by(annotation) %>%
count()
# Combine data
bind_rows(amateur_expert, neither, sexism) %>%
mutate(annotation = replace(annotation, annotation == "Neither", "not_misogynistic")) %>%
mutate(annotation = replace(annotation, annotation == "none", "not_misogynistic")) %>%
mutate(annotation = replace(annotation, annotation == "sexism", "misogynistic")) %>%
mutate(annotation = replace(annotation, annotation == "Sexism", "misogynistic")) %>%
arrange(annotation) %>%
distinct(status_id, .keep_all = TRUE) %>%
group_by(annotation) %>%
count()
# Combine data
bind_rows(amateur_expert, neither, sexism) %>%
mutate(annotation = replace(annotation, annotation == "Neither", "not_misogynistic")) %>%
mutate(annotation = replace(annotation, annotation == "none", "not_misogynistic")) %>%
mutate(annotation = replace(annotation, annotation == "sexism", "misogynistic")) %>%
mutate(annotation = replace(annotation, annotation == "Sexism", "misogynistic")) %>%
arrange(annotation) %>%
#distinct(status_id, .keep_all = TRUE) %>%
group_by(annotation) %>%
count()
4130 + 13451
4242 + 1339
4242 + 13339
# Combine data
bind_rows(amateur_expert, neither, sexism) %>%
mutate(annotation = replace(annotation, annotation == "Neither", "not_misogynistic")) %>%
mutate(annotation = replace(annotation, annotation == "none", "not_misogynistic")) %>%
mutate(annotation = replace(annotation, annotation == "sexism", "misogynistic")) %>%
mutate(annotation = replace(annotation, annotation == "Sexism", "misogynistic")) %>%
arrange(annotation) %>%
distinct(status_id, .keep_all = TRUE) %>%
group_by(annotation) %>%
count()
# Combine data
bind_rows(amateur_expert, neither, sexism) %>%
mutate(annotation = replace(annotation, annotation == "Neither", "not_misogynistic")) %>%
mutate(annotation = replace(annotation, annotation == "none", "not_misogynistic")) %>%
mutate(annotation = replace(annotation, annotation == "sexism", "misogynistic")) %>%
mutate(annotation = replace(annotation, annotation == "Sexism", "misogynistic")) %>%
arrange(annotation) %>%
distinct(status_id, .keep_all = TRUE) %>%
group_by(annotation) %>%
distinct() %>%
count()
# Combine data
bind_rows(amateur_expert, neither, sexism) %>%
mutate(annotation = replace(annotation, annotation == "Neither", "not_misogynistic")) %>%
mutate(annotation = replace(annotation, annotation == "none", "not_misogynistic")) %>%
mutate(annotation = replace(annotation, annotation == "sexism", "misogynistic")) %>%
mutate(annotation = replace(annotation, annotation == "Sexism", "misogynistic")) %>%
arrange(annotation) %>%
distinct(status_id, .keep_all = TRUE) %>%
distinct() %>%
group_by(annotation) %>%
count()
?distinct
# Combine data
bind_rows(amateur_expert, neither, sexism) %>%
mutate(annotation = replace(annotation, annotation == "Neither", "not_misogynistic")) %>%
mutate(annotation = replace(annotation, annotation == "none", "not_misogynistic")) %>%
mutate(annotation = replace(annotation, annotation == "sexism", "misogynistic")) %>%
mutate(annotation = replace(annotation, annotation == "Sexism", "misogynistic")) %>%
arrange(annotation) %>%
distinct(status_id, .keep_all = TRUE) %>%
group_by(annotation) %>%
count()
# Combine data, then rename annotations, then remove duplicates
zeerack_data <- bind_rows(amateur_expert, neither, sexism) %>%
mutate(annotation = replace(annotation, annotation == "Neither", "not_misogynistic")) %>%
mutate(annotation = replace(annotation, annotation == "none", "not_misogynistic")) %>%
mutate(annotation = replace(annotation, annotation == "sexism", "misogynistic")) %>%
mutate(annotation = replace(annotation, annotation == "Sexism", "misogynistic")) %>%
arrange(annotation) %>%
distinct(status_id, .keep_all = TRUE)
zeerack_data
13339 +4242
# Balance label classes by taking random sample of not_misogynistic Tweets
zeerack_data
# Balance label classes by taking random sample of not_misogynistic Tweets
zeerack_data
# Balance label classes by taking random sample of not_misogynistic Tweets
zeerack_data %>%
group_by(annotation) %>%
sample_n(4242) %>%
ungroup()
# Balance label classes by taking random sample of not_misogynistic Tweets
zeerack_data %>%
group_by(annotation) %>%
sample_n(4242) %>%
count()
library(tidyverse)
library(jsonlite)
amateur_expert <- jsonlite::stream_in(file("amateur_expert.json"),
flatten = TRUE)
neither <- jsonlite::stream_in(file("neither.json"),
flatten = TRUE)
sexism <- jsonlite::stream_in(file("sexism.json"),
flatten = TRUE)
# Make tibble then select and rename columns to match AWS scripts
amateur_expert <- amateur_expert %>%
as_tibble() %>%
select(annotation = "Annotation",
created_at,
user_id = "user.id_str",
status_id = "id_str",
text,
reply_to_status_id = "in_reply_to_status_id",
reply_to_user_id = "in_reply_to_user_id_str",
country = "place.country",
country_code = "place.country_code",
lang,
retweet_count,
retweet_status_id = "retweeted_status.id",
favorite_count,
retweet_favorite_count = "retweeted_status.favorite_count")
# Drop racism annotations and convert "both" to "sexism"
amateur_expert <- amateur_expert %>%
filter(annotation == "Both"   |
annotation == "Sexism" |
annotation == "Neither") %>%
mutate(annotation = replace(annotation,
annotation == "Both",
"Sexism"))
# Make tibble then select and rename columns to match AWS scripts
neither <- neither %>%
as_tibble() %>%
select(annotation = "Annotation",
created_at,
user_id = "user.id_str",
status_id = "id_str",
text,
reply_to_status_id = "in_reply_to_status_id",
reply_to_user_id = "in_reply_to_user_id_str",
country = "place.country",
country_code = "place.country_code",
lang,
retweet_count,
retweet_status_id = "retweeted_status.id",
favorite_count,
retweet_favorite_count = "retweeted_status.favorite_count")
# Make tibble then select and rename columns to match AWS scripts
sexism <- sexism %>%
as_tibble() %>%
select(annotation = "Annotation",
created_at,
user_id = "user.id_str",
status_id = "id_str",
text,
reply_to_status_id = "in_reply_to_status_id",
reply_to_user_id = "in_reply_to_user_id_str",
country = "place.country",
country_code = "place.country_code",
lang,
retweet_count,
retweet_status_id = "retweeted_status.id",
favorite_count,
retweet_favorite_count = "retweeted_status.favorite_count")
# Combine data, then rename annotations, then remove duplicates
zeerack_data <- bind_rows(amateur_expert, neither, sexism) %>%
mutate(annotation = replace(annotation, annotation == "Neither", "not_misogynistic")) %>%
mutate(annotation = replace(annotation, annotation == "none", "not_misogynistic")) %>%
mutate(annotation = replace(annotation, annotation == "sexism", "misogynistic")) %>%
mutate(annotation = replace(annotation, annotation == "Sexism", "misogynistic")) %>%
arrange(annotation) %>%
distinct(status_id, .keep_all = TRUE)
# Balance label classes by taking random sample of not_misogynistic Tweets
zeerack_data <- zeerack_data %>%
group_by(annotation) %>%
sample_n(4242) %>%
ungroup()
zeerack_data %>% group_by(annotation) %>% count()
# Save to csv
write_csv(zeerack_data, "zeerack_data.csv")
