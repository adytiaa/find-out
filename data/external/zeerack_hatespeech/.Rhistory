library(tidyverse)
library(rtweet)
file_1 <- read_tsv("/home/mike/Documents/opt-out-master/hatespeech/NLP+CSS_2016.csv")
file_1
file_2 <- read_csv("/home/mike/Documents/opt-out-master/hatespeech/NAACL_SRW_2016.csv",
col_names = FALSE)
file_2
file_2$x1[1]
file_2$X1[1]
colnames(file_1)
file_1 <- file_1 %>%
select("TweetID", "Expert")
file_1
unique(file_q)
unique(file_1)
unique(file_1$Expert)
file_1 %>%
select("TweetID", "Expert") %>%
filter(Expert == "both" | Expert == "sexism")
file_test <- file_1 %>%
select("TweetID", "Expert") %>%
filter(Expert == "both" | Expert == "sexism")
file_test
unique(file_test$Expert)
file_2
?rename
file_test <- file_1 %>%
select("TweetID" = tweet_id, "Expert" = label) %>%
filter(Expert == "both" | Expert == "sexism")
file_test <- file_1 %>%
select(tweet_id = "TweetID", label = "Expert") %>%
filter(Expert == "both" | Expert == "sexism")
file_1
file_1 %>%
select(tweet_id = "TweetID", label = "Expert")
file_1 %>%
select(tweet_id = "TweetID", label = "Expert") %>%
filter(label == "both" | label == "sexism")
?replace
file_test <- file_1 %>%
select(tweet_id = "TweetID", label = "Expert") %>%
filter(label == "both" | label == "sexism") %>%
mutate(label = replace(label, label == "both", "sexism"))
file_test
file_1 %>%
select(tweet_id = "TweetID", label = "Expert") %>%
filter(label == "both" | label == "sexism")
file_1 %>%
select(tweet_id = "TweetID", label = "Expert") %>%
filter(label == "both" | label == "sexism") %>%
mutate(label = replace(label, label == "both", "sexism"))
file_1 %>%
select(tweet_id = "TweetID", label = "Expert") %>%
filter(label == "both" | label == "sexism")
file_1 %>%
select(tweet_id = "TweetID", label = "Expert") %>%
filter(label == "both" | label == "sexism") %>%
mutate(label = replace(label, label == "both", "sexism"))
file_1
file_2
# file_2
file_test <- file_2 %>%
select(tweet_id = "X1", label = "X2")
file_test
unique(file_test$label)
# file_2
file_test <- file_2 %>%
select(tweet_id = "X1", label = "X2") %>%
filter(label == "sexism" | label == "none")
file_test
unique(file_test$label)
file_1 <- read_tsv("/home/mike/Documents/opt-out-master/hatespeech/NLP+CSS_2016.csv")
file_2 <- read_csv("/home/mike/Documents/opt-out-master/hatespeech/NAACL_SRW_2016.csv",
col_names = FALSE)
# file_1
file_1 <- file_1 %>%
select(tweet_id = "TweetID", label = "Expert") %>%
filter(label == "both" | label == "sexism") %>%
mutate(label = replace(label, label == "both", "sexism"))
# file_2
file_2 <- file_2 %>%
select(tweet_id = "X1", label = "X2") %>%
filter(label == "sexism" | label == "none")
colnames(file_1) == colnames(file_2)
# combine files
hatespeech <- bind_rows(file_1, file2)
# combine files
sexism_data <- bind_rows(file_1, file_2)
sexism_data
unique(sexism$label)
unique(sexism_data$label)
# combine files
sexism_data <- bind_rows(file_1, file_2) %>%
distinct()
sexism_data
?distinct
# combine files
sexism_data <- bind_rows(file_1, file_2) %>%
distinct(tweet_id)
sexism_data
# combine files
sexism_data <- bind_rows(file_1, file_2) %>%
distinct(tweet_id, .keep_all = TRUE)
sexism_data
sexism_data %>% group_by(label) %>% count()
?sample_n
# Combine files and remove duplicates
sexism_data <- bind_rows(file_1, file_2) %>%
distinct(tweet_id, .keep_all = TRUE) %>%
group_by(label) %>%
sample_n(4242) %>%
ungroup()
sexism_data
unique(sexism_data$label)
bind_rows(file_1, file_2) %>%
distinct(tweet_id, .keep_all = TRUE) %>%
group_by(label) %>%
sample_n(4242) %>%
count()
bind_rows(file_1, file_2) %>%
distinct(tweet_id, .keep_all = TRUE) %>%
group_by(label) %>%
sample_n(4244) %>%
count()
sexism_data <- bind_rows(file_1, file_2) %>%
distinct(tweet_id, .keep_all = TRUE) %>%
group_by(label) %>%
sample_n(4242) %>%
ungroup()
sexism_data
